{"ast":null,"code":"import{jsxs as _jsxs}from\"react/jsx-runtime\";import{jsx as _jsx}from\"react/jsx-runtime\";import _regeneratorRuntime from\"E:/Gappy/Back-End/Payor-View/node_modules/@babel/runtime/regenerator\";import _toConsumableArray from\"E:/Gappy/Back-End/Payor-View/node_modules/@babel/runtime/helpers/esm/toConsumableArray\";import _asyncToGenerator from\"E:/Gappy/Back-End/Payor-View/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";import _classCallCheck from\"E:/Gappy/Back-End/Payor-View/node_modules/@babel/runtime/helpers/esm/classCallCheck\";import _createClass from\"E:/Gappy/Back-End/Payor-View/node_modules/@babel/runtime/helpers/esm/createClass\";import _inherits from\"E:/Gappy/Back-End/Payor-View/node_modules/@babel/runtime/helpers/esm/inherits\";import _createSuper from\"E:/Gappy/Back-End/Payor-View/node_modules/@babel/runtime/helpers/esm/createSuper\";// Root Imports\nimport React,{Component}from\"react\";// External Libraries\nimport axios from\"axios\";// Utils\nimport{paginate}from\"../utils/paginate\";// Components\nimport Pagination from\"./common/pagination\";import{Container,Row,Col}from\"react-bootstrap\";import{HeaderMain}from\"./common/headerMain\";var Members=/*#__PURE__*/function(_Component){_inherits(Members,_Component);var _super=_createSuper(Members);function Members(){var _this;_classCallCheck(this,Members);for(var _len=arguments.length,args=new Array(_len),_key=0;_key<_len;_key++){args[_key]=arguments[_key];}_this=_super.call.apply(_super,[this].concat(args));_this.state={pageSize:25,currentPage:1,patients:[]};_this.handlePageChange=function(page){_this.setState({currentPage:page});};return _this;}_createClass(Members,[{key:\"componentDidMount\",value:function(){var _componentDidMount=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee(){var patientList,REACT_APP_API_PRACTICES,_yield$axios$get,practices,i,_yield$axios$get2,list;return _regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:patientList=[];REACT_APP_API_PRACTICES=process.env.REACT_APP_API_PRACTICES;// Get Practices\n_context.next=4;return axios.get(REACT_APP_API_PRACTICES);case 4:_yield$axios$get=_context.sent;practices=_yield$axios$get.data;console.log(practices);// Loop Practices and get each individual practice patients\ni=0;case 8:if(!(i<practices.length)){_context.next=17;break;}_context.next=11;return axios.get(REACT_APP_API_PRACTICES+practices[i].id+\"/patients/\");case 11:_yield$axios$get2=_context.sent;list=_yield$axios$get2.data;patientList=[].concat(_toConsumableArray(patientList),_toConsumableArray(list));case 14:i++;_context.next=8;break;case 17:console.log(patientList);this.setState({patients:patientList});case 19:case\"end\":return _context.stop();}}},_callee,this);}));function componentDidMount(){return _componentDidMount.apply(this,arguments);}return componentDidMount;}()},{key:\"render\",value:function render(){var count=this.state.patients.length;var _this$state=this.state,currentPage=_this$state.currentPage,pageSize=_this$state.pageSize,allPatients=_this$state.patients;var patients=paginate(allPatients,currentPage,pageSize);return/*#__PURE__*/_jsxs(\"div\",{className:\"\",children:[/*#__PURE__*/_jsxs(Container,{className:\"mt-5 mb-5\",children:[/*#__PURE__*/_jsx(Row,{children:/*#__PURE__*/_jsxs(Col,{children:[/*#__PURE__*/_jsx(HeaderMain,{title:\"Members List\",className:\"\"}),/*#__PURE__*/_jsx(\"p\",{className:\"text-left text-muted mt-5\",children:\"Down below are listed the current and active members with open care gaps. Each patient has their respective information displayed, what practice they belong to and who their physician is. The far right column indicates the patients gap.\"})]})}),/*#__PURE__*/_jsx(Row,{className:\"ml-1\"}),/*#__PURE__*/_jsx(Row,{className:\"ml-1 mt-1\"})]}),/*#__PURE__*/_jsxs(\"table\",{className:\"table table-striped\",children:[/*#__PURE__*/_jsx(\"thead\",{children:/*#__PURE__*/_jsxs(\"tr\",{children:[/*#__PURE__*/_jsx(\"th\",{className:\"font-weight-light\",children:\"Practice\"}),/*#__PURE__*/_jsx(\"th\",{className:\"font-weight-light\",children:\"Provider\"}),/*#__PURE__*/_jsx(\"th\",{className:\"font-weight-light\",children:\"First Name\"}),/*#__PURE__*/_jsx(\"th\",{className:\"font-weight-light\",children:\"Last Name\"}),/*#__PURE__*/_jsx(\"th\",{className:\"font-weight-light\",children:\"DOB\"}),/*#__PURE__*/_jsx(\"th\",{className:\"font-weight-light\",children:\"Gap\"})]})}),/*#__PURE__*/_jsx(\"tbody\",{children:patients.map(function(patient){return/*#__PURE__*/_jsxs(\"tr\",{children:[/*#__PURE__*/_jsx(\"td\",{children:\"...\"}),/*#__PURE__*/_jsx(\"td\",{children:patient.provider.name}),/*#__PURE__*/_jsx(\"td\",{children:patient.first_name}),/*#__PURE__*/_jsx(\"td\",{children:patient.last_name}),/*#__PURE__*/_jsx(\"td\",{children:patient.dob}),/*#__PURE__*/_jsx(\"td\",{className:\"text-danger\",children:\"CBP\"})]});})})]}),/*#__PURE__*/_jsx(Pagination,{itemsCount:count,pageSize:pageSize,onPageChange:this.handlePageChange,currentPage:currentPage})]});}}]);return Members;}(Component);export default Members;","map":{"version":3,"sources":["E:/Gappy/Back-End/Payor-View/src/components/members.jsx"],"names":["React","Component","axios","paginate","Pagination","Container","Row","Col","HeaderMain","Members","state","pageSize","currentPage","patients","handlePageChange","page","setState","patientList","REACT_APP_API_PRACTICES","process","env","get","practices","data","console","log","i","length","id","list","count","allPatients","map","patient","provider","name","first_name","last_name","dob"],"mappings":"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","sourcesContent":["// Root Imports\r\nimport React, { Component } from \"react\";\r\n\r\n// External Libraries\r\nimport axios from \"axios\";\r\n\r\n// Utils\r\nimport { paginate } from \"../utils/paginate\";\r\n\r\n// Components\r\nimport Pagination from \"./common/pagination\";\r\nimport { Container, Row, Col } from \"react-bootstrap\";\r\nimport { HeaderMain } from \"./common/headerMain\";\r\n\r\nclass Members extends Component {\r\n  state = {\r\n    pageSize: 25,\r\n    currentPage: 1,\r\n    patients: [],\r\n  };\r\n\r\n  async componentDidMount() {\r\n    var patientList = [];\r\n\r\n    const { REACT_APP_API_PRACTICES } = process.env;\r\n\r\n    // Get Practices\r\n    const { data: practices } = await axios.get(\r\n      REACT_APP_API_PRACTICES\r\n    );\r\n    console.log(practices);\r\n\r\n    // Loop Practices and get each individual practice patients\r\n    for (let i = 0; i < practices.length; i++) {\r\n      const { data: list } = await axios.get(\r\n        REACT_APP_API_PRACTICES +\r\n          practices[i].id +\r\n          \"/patients/\"\r\n      );\r\n      patientList = [...patientList, ...list];\r\n    }\r\n\r\n    console.log(patientList);\r\n\r\n    this.setState({ patients: patientList });\r\n  }\r\n\r\n  handlePageChange = (page) => {\r\n    this.setState({ currentPage: page });\r\n  };\r\n\r\n  render() {\r\n    const { length: count } = this.state.patients;\r\n    const { currentPage, pageSize, patients: allPatients } = this.state;\r\n\r\n    const patients = paginate(allPatients, currentPage, pageSize);\r\n\r\n    return (\r\n      <div className=\"\">\r\n        <Container className=\"mt-5 mb-5\">\r\n          <Row>\r\n            <Col>\r\n              <HeaderMain title=\"Members List\" className=\"\" />\r\n              <p className=\"text-left text-muted mt-5\">\r\n                Down below are listed the current and active members with open\r\n                care gaps. Each patient has their respective information\r\n                displayed, what practice they belong to and who their physician\r\n                is. The far right column indicates the patients gap.\r\n              </p>\r\n            </Col>\r\n          </Row>\r\n          <Row className=\"ml-1\"></Row>\r\n          <Row className=\"ml-1 mt-1\"></Row>\r\n        </Container>\r\n        <table className=\"table table-striped\">\r\n          <thead>\r\n            <tr>\r\n              <th className=\"font-weight-light\">Practice</th>\r\n              <th className=\"font-weight-light\">Provider</th>\r\n              <th className=\"font-weight-light\">First Name</th>\r\n              <th className=\"font-weight-light\">Last Name</th>\r\n              <th className=\"font-weight-light\">DOB</th>\r\n              <th className=\"font-weight-light\">Gap</th>\r\n            </tr>\r\n          </thead>\r\n          <tbody>\r\n            {patients.map((patient) => (\r\n              <tr>\r\n                <td>...</td>\r\n                <td>{patient.provider.name}</td>\r\n                <td>{patient.first_name}</td>\r\n                <td>{patient.last_name}</td>\r\n                <td>{patient.dob}</td>\r\n                <td className=\"text-danger\">CBP</td>\r\n              </tr>\r\n            ))}\r\n          </tbody>\r\n        </table>\r\n        <Pagination\r\n          itemsCount={count}\r\n          pageSize={pageSize}\r\n          onPageChange={this.handlePageChange}\r\n          currentPage={currentPage}\r\n        />\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nexport default Members;\r\n"]},"metadata":{},"sourceType":"module"}